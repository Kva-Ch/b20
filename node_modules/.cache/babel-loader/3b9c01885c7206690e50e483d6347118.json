{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport * as Constants from \"../constants.js\";\nimport axios from 'axios';\nimport { BrowserRouter as Router, Routes, Route, Link } from 'react-router-dom';\nimport { generatePath, useNavigate } from 'react-router';\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\nfunction loginApi(email, password) {\n  _s();\n\n  let navigate = useNavigate(); //   var data = {\"Email\": \"nisheeth_mozilla@yahoo.com\", \"Password\": \"nisheeth_mozilla\"};\n  //   var url = Constants.base_url + \"/login\";\n  //   var config = {\n  //     method: 'post',\n  //     url: url,\n  //     headers: {\n  //       'Content-Type': 'application/json'\n  //     },\n  //     data: data\n  //   };\n  //\n  //   axios(config).then(function(response) {\n  //     console.log(JSON.stringify(response.data));\n  //   }).catch(function(error) {\n  //     console.log(error);\n  //   });\n  // }\n\n  var url = Constants.base_url + \"/login\";\n  console.log(url);\n  axios({\n    url: url,\n    method: \"POST\",\n    headers: {\n      'Access-Control-Allow-Origin': '*'\n    },\n    data: {\n      \"Email\": \"nisheeth_mozilla@yahoo.com\",\n      \"Password\": \"nisheeth_mozilla\"\n    }\n  }).then(res => {\n    const data = res.data;\n\n    if (localStorage.getItem('accessToken')) {\n      localStorage.removeItem('accessToken');\n    } // const temp = localStorage.getItem('accessToken');\n    // if(data.accessToken && temp!=data.accessToken){\n    // localStorage.setItem('accessToken', data.accessToken);\n    // }\n\n\n    if (data.status === 200) {\n      if (data.accessToken) {\n        // console.log(data.accessToken);\n        // localStorage.removeItem('accessToken');\n        localStorage.setItem('accessToken', data.accessToken);\n      }\n\n      navigate('/home');\n      console.log(\"Successfully Login\");\n    } else if (data.status === 409) {\n      alert(data.message);\n    } else {\n      alert(\"Error: Enter email in correct format and password with atleast 6 characters\");\n    }\n  }).catch(err => {\n    alert(err.message);\n    console.log(err);\n  });\n}\n\n_s(loginApi, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n\nexport default loginApi;","map":{"version":3,"names":["Constants","axios","BrowserRouter","Router","Routes","Route","Link","generatePath","useNavigate","defaults","headers","post","loginApi","email","password","navigate","url","base_url","console","log","method","data","then","res","localStorage","getItem","removeItem","status","accessToken","setItem","alert","message","catch","err"],"sources":["/Users/k.chaganti/Desktop/b20/b20/src/controllers/loginApi.jsx"],"sourcesContent":["import * as Constants from \"../constants.js\";\nimport axios from 'axios';\nimport {BrowserRouter as Router, Routes, Route, Link} from 'react-router-dom';\nimport {generatePath, useNavigate} from 'react-router';\n\n\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\nfunction loginApi(email, password) {\n  let navigate = useNavigate();\n  //   var data = {\"Email\": \"nisheeth_mozilla@yahoo.com\", \"Password\": \"nisheeth_mozilla\"};\n  //   var url = Constants.base_url + \"/login\";\n  //   var config = {\n  //     method: 'post',\n  //     url: url,\n  //     headers: {\n  //       'Content-Type': 'application/json'\n  //     },\n  //     data: data\n  //   };\n  //\n  //   axios(config).then(function(response) {\n  //     console.log(JSON.stringify(response.data));\n  //   }).catch(function(error) {\n  //     console.log(error);\n  //   });\n  // }\n    var url = Constants.base_url + \"/login\";\n    console.log(url);\n  axios({\n    url: url,\n    method: \"POST\",\n    headers: {\n      'Access-Control-Allow-Origin': '*'\n    },\n    data: {\n      \"Email\": \"nisheeth_mozilla@yahoo.com\",\n      \"Password\": \"nisheeth_mozilla\"\n    }\n  }).then((res) => {\n    const data = res.data;\n    if (localStorage.getItem('accessToken')) {\n      localStorage.removeItem('accessToken');\n    }\n    // const temp = localStorage.getItem('accessToken');\n    // if(data.accessToken && temp!=data.accessToken){\n    // localStorage.setItem('accessToken', data.accessToken);\n    // }\n    if (data.status === 200) {\n      if (data.accessToken) {\n        // console.log(data.accessToken);\n        // localStorage.removeItem('accessToken');\n        localStorage.setItem('accessToken', data.accessToken);\n      }\n      navigate('/home');\n      console.log(\"Successfully Login\");\n    } else if (data.status === 409) {\n      alert(data.message);\n    } else {\n      alert(\"Error: Enter email in correct format and password with atleast 6 characters\");\n    }\n  }).catch((err) => {\n    alert(err.message);\n    console.log(err);\n  });\n}\n\nexport default loginApi;\n"],"mappings":";;AAAA,OAAO,KAAKA,SAAZ,MAA2B,iBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,aAAa,IAAIC,MAAzB,EAAiCC,MAAjC,EAAyCC,KAAzC,EAAgDC,IAAhD,QAA2D,kBAA3D;AACA,SAAQC,YAAR,EAAsBC,WAAtB,QAAwC,cAAxC;AAGAP,KAAK,CAACQ,QAAN,CAAeC,OAAf,CAAuBC,IAAvB,CAA4B,6BAA5B,IAA6D,GAA7D;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyBC,QAAzB,EAAmC;EAAA;;EACjC,IAAIC,QAAQ,GAAGP,WAAW,EAA1B,CADiC,CAEjC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EACE,IAAIQ,GAAG,GAAGhB,SAAS,CAACiB,QAAV,GAAqB,QAA/B;EACAC,OAAO,CAACC,GAAR,CAAYH,GAAZ;EACFf,KAAK,CAAC;IACJe,GAAG,EAAEA,GADD;IAEJI,MAAM,EAAE,MAFJ;IAGJV,OAAO,EAAE;MACP,+BAA+B;IADxB,CAHL;IAMJW,IAAI,EAAE;MACJ,SAAS,4BADL;MAEJ,YAAY;IAFR;EANF,CAAD,CAAL,CAUGC,IAVH,CAUSC,GAAD,IAAS;IACf,MAAMF,IAAI,GAAGE,GAAG,CAACF,IAAjB;;IACA,IAAIG,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAJ,EAAyC;MACvCD,YAAY,CAACE,UAAb,CAAwB,aAAxB;IACD,CAJc,CAKf;IACA;IACA;IACA;;;IACA,IAAIL,IAAI,CAACM,MAAL,KAAgB,GAApB,EAAyB;MACvB,IAAIN,IAAI,CAACO,WAAT,EAAsB;QACpB;QACA;QACAJ,YAAY,CAACK,OAAb,CAAqB,aAArB,EAAoCR,IAAI,CAACO,WAAzC;MACD;;MACDb,QAAQ,CAAC,OAAD,CAAR;MACAG,OAAO,CAACC,GAAR,CAAY,oBAAZ;IACD,CARD,MAQO,IAAIE,IAAI,CAACM,MAAL,KAAgB,GAApB,EAAyB;MAC9BG,KAAK,CAACT,IAAI,CAACU,OAAN,CAAL;IACD,CAFM,MAEA;MACLD,KAAK,CAAC,6EAAD,CAAL;IACD;EACF,CAhCD,EAgCGE,KAhCH,CAgCUC,GAAD,IAAS;IAChBH,KAAK,CAACG,GAAG,CAACF,OAAL,CAAL;IACAb,OAAO,CAACC,GAAR,CAAYc,GAAZ;EACD,CAnCD;AAoCD;;GAzDQrB,Q;UACQJ,W;;;AA0DjB,eAAeI,QAAf"},"metadata":{},"sourceType":"module"}