{"ast":null,"code":"import * as Constants from \"../constants.js\";\nimport axios from 'axios';\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\nfunction loginApi(email, password) {\n  //   var data = {\"Email\": \"nisheeth_mozilla@yahoo.com\", \"Password\": \"nisheeth_mozilla\"};\n  //   var url = Constants.base_url + \"/login\";\n  //   var config = {\n  //     method: 'post',\n  //     url: url,\n  //     headers: {\n  //       'Content-Type': 'application/json'\n  //     },\n  //     data: data\n  //   };\n  //\n  //   axios(config).then(function(response) {\n  //     console.log(JSON.stringify(response.data));\n  //   }).catch(function(error) {\n  //     console.log(error);\n  //   });\n  // }\n  axios({\n    url: \"https://intense-cove-28580.herokuapp.com/login\",\n    method: \"POST\",\n    headers: {\n      'Access-Control-Allow-Origin': '*'\n    },\n    data: {\n      \"username\": username,\n      \"password\": pwd\n    }\n  }).then(res => {\n    const data = res.data;\n\n    if (localStorage.getItem('accessToken')) {\n      localStorage.removeItem('accessToken');\n    } // const temp = localStorage.getItem('accessToken');\n    // if(data.accessToken && temp!=data.accessToken){\n    // localStorage.setItem('accessToken', data.accessToken);\n    // }\n\n\n    if (data.status === 200) {\n      if (data.accessToken) {\n        // console.log(data.accessToken);\n        // localStorage.removeItem('accessToken');\n        localStorage.setItem('accessToken', data.accessToken);\n      }\n\n      navigate('/home');\n      console.log(\"Successfully Login\");\n    } else if (data.status === 409) {\n      alert(data.message);\n    } else {\n      alert(\"Error: Enter email in correct format and password with atleast 6 characters\");\n    }\n  }).catch(err => {\n    alert(err.message);\n    console.log(err);\n  });\n}\n\nexport default loginApi;","map":{"version":3,"names":["Constants","axios","defaults","headers","post","loginApi","email","password","url","method","data","username","pwd","then","res","localStorage","getItem","removeItem","status","accessToken","setItem","navigate","console","log","alert","message","catch","err"],"sources":["/Users/k.chaganti/Desktop/b20/b20/src/controllers/loginApi.jsx"],"sourcesContent":["import * as Constants from \"../constants.js\";\nimport axios from 'axios';\n\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\nfunction loginApi(email, password) {\n  //   var data = {\"Email\": \"nisheeth_mozilla@yahoo.com\", \"Password\": \"nisheeth_mozilla\"};\n  //   var url = Constants.base_url + \"/login\";\n  //   var config = {\n  //     method: 'post',\n  //     url: url,\n  //     headers: {\n  //       'Content-Type': 'application/json'\n  //     },\n  //     data: data\n  //   };\n  //\n  //   axios(config).then(function(response) {\n  //     console.log(JSON.stringify(response.data));\n  //   }).catch(function(error) {\n  //     console.log(error);\n  //   });\n  // }\n  axios({\n    url: \"https://intense-cove-28580.herokuapp.com/login\",\n    method: \"POST\",\n    headers: {\n      'Access-Control-Allow-Origin': '*'\n    },\n    data: {\n      \"username\": username,\n      \"password\": pwd\n    }\n  }).then((res) => {\n    const data = res.data;\n    if (localStorage.getItem('accessToken')) {\n      localStorage.removeItem('accessToken');\n    }\n    // const temp = localStorage.getItem('accessToken');\n    // if(data.accessToken && temp!=data.accessToken){\n    // localStorage.setItem('accessToken', data.accessToken);\n    // }\n    if (data.status === 200) {\n      if (data.accessToken) {\n        // console.log(data.accessToken);\n        // localStorage.removeItem('accessToken');\n        localStorage.setItem('accessToken', data.accessToken);\n      }\n      navigate('/home');\n      console.log(\"Successfully Login\");\n    } else if (data.status === 409) {\n      alert(data.message);\n    } else {\n      alert(\"Error: Enter email in correct format and password with atleast 6 characters\");\n    }\n  }).catch((err) => {\n    alert(err.message);\n    console.log(err);\n  });\n}\n\nexport default loginApi;\n"],"mappings":"AAAA,OAAO,KAAKA,SAAZ,MAA2B,iBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEAA,KAAK,CAACC,QAAN,CAAeC,OAAf,CAAuBC,IAAvB,CAA4B,6BAA5B,IAA6D,GAA7D;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyBC,QAAzB,EAAmC;EACjC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAN,KAAK,CAAC;IACJO,GAAG,EAAE,gDADD;IAEJC,MAAM,EAAE,MAFJ;IAGJN,OAAO,EAAE;MACP,+BAA+B;IADxB,CAHL;IAMJO,IAAI,EAAE;MACJ,YAAYC,QADR;MAEJ,YAAYC;IAFR;EANF,CAAD,CAAL,CAUGC,IAVH,CAUSC,GAAD,IAAS;IACf,MAAMJ,IAAI,GAAGI,GAAG,CAACJ,IAAjB;;IACA,IAAIK,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAJ,EAAyC;MACvCD,YAAY,CAACE,UAAb,CAAwB,aAAxB;IACD,CAJc,CAKf;IACA;IACA;IACA;;;IACA,IAAIP,IAAI,CAACQ,MAAL,KAAgB,GAApB,EAAyB;MACvB,IAAIR,IAAI,CAACS,WAAT,EAAsB;QACpB;QACA;QACAJ,YAAY,CAACK,OAAb,CAAqB,aAArB,EAAoCV,IAAI,CAACS,WAAzC;MACD;;MACDE,QAAQ,CAAC,OAAD,CAAR;MACAC,OAAO,CAACC,GAAR,CAAY,oBAAZ;IACD,CARD,MAQO,IAAIb,IAAI,CAACQ,MAAL,KAAgB,GAApB,EAAyB;MAC9BM,KAAK,CAACd,IAAI,CAACe,OAAN,CAAL;IACD,CAFM,MAEA;MACLD,KAAK,CAAC,6EAAD,CAAL;IACD;EACF,CAhCD,EAgCGE,KAhCH,CAgCUC,GAAD,IAAS;IAChBH,KAAK,CAACG,GAAG,CAACF,OAAL,CAAL;IACAH,OAAO,CAACC,GAAR,CAAYI,GAAZ;EACD,CAnCD;AAoCD;;AAED,eAAetB,QAAf"},"metadata":{},"sourceType":"module"}