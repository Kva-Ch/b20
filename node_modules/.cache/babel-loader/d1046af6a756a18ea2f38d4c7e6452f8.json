{"ast":null,"code":"import * as Constants from \"../constants.js\";\nimport axios from 'axios'; // axios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\nfunction loginApi(email, password) {\n  var data = {\n    \"Email\": \"nisheeth_mozilla@yahoo.com\",\n    \"Password\": \"nisheeth_mozilla\"\n  };\n  var url = Constants.base_url + \"/login\";\n  axios({\n    url: url,\n    method: \"POST\",\n    data: data\n  }).then(res => {\n    const data = res.data;\n\n    if (localStorage.getItem('accessToken')) {\n      localStorage.removeItem('accessToken');\n    }\n\n    if (localStorage.getItem('uid')) {\n      localStorage.removeItem('uid');\n    }\n\n    console.log(data);\n    console.log(data.token);\n    console.log(data.status);\n    console.log(data.user.UserId); // if (data.status === 200) {\n\n    if (data.token) {\n      localStorage.setItem('accessToken', data.token);\n    }\n\n    if (data.user.UserId) {\n      localStorage.setItem('uid', data.user.UserId);\n    } // }\n\n  }).catch(err => {\n    alert(err.message);\n    console.log(err);\n  });\n}\n\nexport default loginApi;","map":{"version":3,"names":["Constants","axios","loginApi","email","password","data","url","base_url","method","then","res","localStorage","getItem","removeItem","console","log","token","status","user","UserId","setItem","catch","err","alert","message"],"sources":["/Users/k.chaganti/Desktop/b20/b20/src/controllers/loginApi.jsx"],"sourcesContent":["import * as Constants from \"../constants.js\";\nimport axios from 'axios';\n\n// axios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\nfunction loginApi(email, password) {\n    var data = {\"Email\": \"nisheeth_mozilla@yahoo.com\", \"Password\": \"nisheeth_mozilla\"};\n    var url = Constants.base_url + \"/login\";\n    axios({\n      url: url,\n      method: \"POST\",\n      data: data\n    }).then((res) => {\n      const data = res.data;\n      if(localStorage.getItem('accessToken')){\n          localStorage.removeItem('accessToken');\n      }\n      if(localStorage.getItem('uid')){\n          localStorage.removeItem('uid');\n      }\n      console.log(data);\n      console.log(data.token);\n      console.log(data.status);\n      console.log(data.user.UserId);\n      // if (data.status === 200) {\n        if (data.token) {\n          localStorage.setItem('accessToken', data.token);\n        }\n        if(data.user.UserId){\n          localStorage.setItem('uid', data.user.UserId);\n        }\n      // }\n    }).catch((err) => {\n      alert(err.message);\n      console.log(err);\n    });\n}\n\nexport default loginApi;\n"],"mappings":"AAAA,OAAO,KAAKA,SAAZ,MAA2B,iBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyBC,QAAzB,EAAmC;EAC/B,IAAIC,IAAI,GAAG;IAAC,SAAS,4BAAV;IAAwC,YAAY;EAApD,CAAX;EACA,IAAIC,GAAG,GAAGN,SAAS,CAACO,QAAV,GAAqB,QAA/B;EACAN,KAAK,CAAC;IACJK,GAAG,EAAEA,GADD;IAEJE,MAAM,EAAE,MAFJ;IAGJH,IAAI,EAAEA;EAHF,CAAD,CAAL,CAIGI,IAJH,CAISC,GAAD,IAAS;IACf,MAAML,IAAI,GAAGK,GAAG,CAACL,IAAjB;;IACA,IAAGM,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAH,EAAuC;MACnCD,YAAY,CAACE,UAAb,CAAwB,aAAxB;IACH;;IACD,IAAGF,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAH,EAA+B;MAC3BD,YAAY,CAACE,UAAb,CAAwB,KAAxB;IACH;;IACDC,OAAO,CAACC,GAAR,CAAYV,IAAZ;IACAS,OAAO,CAACC,GAAR,CAAYV,IAAI,CAACW,KAAjB;IACAF,OAAO,CAACC,GAAR,CAAYV,IAAI,CAACY,MAAjB;IACAH,OAAO,CAACC,GAAR,CAAYV,IAAI,CAACa,IAAL,CAAUC,MAAtB,EAXe,CAYf;;IACE,IAAId,IAAI,CAACW,KAAT,EAAgB;MACdL,YAAY,CAACS,OAAb,CAAqB,aAArB,EAAoCf,IAAI,CAACW,KAAzC;IACD;;IACD,IAAGX,IAAI,CAACa,IAAL,CAAUC,MAAb,EAAoB;MAClBR,YAAY,CAACS,OAAb,CAAqB,KAArB,EAA4Bf,IAAI,CAACa,IAAL,CAAUC,MAAtC;IACD,CAlBY,CAmBf;;EACD,CAxBD,EAwBGE,KAxBH,CAwBUC,GAAD,IAAS;IAChBC,KAAK,CAACD,GAAG,CAACE,OAAL,CAAL;IACAV,OAAO,CAACC,GAAR,CAAYO,GAAZ;EACD,CA3BD;AA4BH;;AAED,eAAepB,QAAf"},"metadata":{},"sourceType":"module"}