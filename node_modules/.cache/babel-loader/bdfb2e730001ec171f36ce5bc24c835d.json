{"ast":null,"code":"import _slicedToArray from \"/Users/s.gollapalli/Desktop/project/b20-master-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/s.gollapalli/Desktop/project/b20-master-2/src/components/TimeSelect.jsx\";\nimport React, { Component, Fragment, useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport * as Styled from \"./styles\";\nimport calendar, { isDate, isSameDay, isSameMonth, getDateISO, getNextMonth, getPreviousMonth, WEEK_DAYS, CALENDAR_MONTHS } from \"../../helpers/calendar.jsx\";\n\nfunction TimeSelect(_ref) {\n  var _this = this;\n\n  var date = _ref.date,\n      onDateChanged = _ref.onDateChanged;\n\n  var _useState = useState({\n    current: 0,\n    month: 0,\n    year: 0\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      dateState = _useState2[0],\n      setDateState = _useState2[1];\n\n  var _useState3 = useState(new Date()),\n      _useState4 = _slicedToArray(_useState3, 2),\n      today = _useState4[0],\n      setToday = _useState4[1];\n\n  useEffect(function () {\n    addDateToState(date);\n  }, []);\n\n  var addDateToState = function addDateToState(date) {\n    var isDateObject = isDate(date);\n\n    var _date = isDateObject ? date : new Date();\n\n    setDateState({\n      current: isDateObject ? date : null,\n      month: +_date.getMonth() + 1,\n      year: _date.getFullYear()\n    });\n  };\n\n  var getCalendarDates = function getCalendarDates() {\n    var current = dateState.current,\n        month = dateState.month,\n        year = dateState.year;\n    var calendarMonth = month || +current.getMonth() + 1;\n    var calendarYear = year || current.getFullYear();\n    return calendar(calendarMonth, calendarYear);\n  }; // Render the label for day of the week\n  // This method is used as a map callback as seen in render()\n\n\n  var renderDayLabel = function renderDayLabel(day, index) {\n    // Resolve the day of the week label from the WEEK_DAYS object map\n    var daylabel = WEEK_DAYS[day].toUpperCase();\n    return /*#__PURE__*/React.createElement(Styled.CalendarDay, {\n      key: daylabel,\n      index: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }\n    }, daylabel);\n  }; // Render a calendar date as returned from the calendar builder function\n  // This method is used as a map callback as seen in render()\n\n\n  var renderCalendarDate = function renderCalendarDate(date, index) {\n    var current = dateState.current,\n        month = dateState.month,\n        year = dateState.year;\n\n    var _date = new Date(date.join(\"-\")); // Check if calendar date is same day as today\n\n\n    var isToday = isSameDay(_date, today); // Check if calendar date is same day as currently selected date\n\n    var isCurrent = current && isSameDay(_date, current); // Check if calendar date is in the same month as the state month and year\n\n    var inMonth = month && year && isSameMonth(_date, new Date([year, month, 1].join(\"-\"))); // The click handler\n\n    var onClick = _this.gotoDate(_date);\n\n    var props = {\n      index: index,\n      inMonth: inMonth,\n      onClick: onClick,\n      title: _date.toDateString()\n    }; // Conditionally render a styled date component\n\n    var DateComponent = isCurrent ? Styled.HighlightedCalendarDate : isToday ? Styled.TodayCalendarDate : Styled.CalendarDate;\n\n    var renderMonthAndYear = function renderMonthAndYear() {\n      var month = dateState.month,\n          year = dateState.year; // Resolve the month name from the CALENDAR_MONTHS object map\n\n      var monthname = Object.keys(CALENDAR_MONTHS)[Math.max(0, Math.min(month - 1, 11))];\n      return /*#__PURE__*/React.createElement(Styled.CalendarHeader, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Styled.ArrowLeft, {\n        onMouseDown: handlePrevious,\n        onMouseUp: clearPressureTimer,\n        title: \"Previous Month\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Styled.CalendarMonth, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }\n      }, monthname, \" \", year), /*#__PURE__*/React.createElement(Styled.ArrowRight, {\n        onMouseDown: handleNext,\n        onMouseUp: clearPressureTimer,\n        title: \"Next Month\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }\n      }));\n    };\n\n    return /*#__PURE__*/React.createElement(Styled.CalendarContainer, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }\n    }, renderMonthAndYear(), /*#__PURE__*/React.createElement(Styled.CalendarGrid, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, Object.keys(WEEK_DAYS).map(renderDayLabel)), /*#__PURE__*/React.createElement(Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, getCalendarDates().map(renderCalendarDate))));\n  };\n\n  Calendar.propTypes = {\n    date: PropTypes.instanceOf(Date),\n    onDateChanged: PropTypes.func\n  };\n  var pressureTimer, pressureTimeout;\n  return /*#__PURE__*/React.createElement(DateComponent, Object.assign({\n    key: getDateISO(_date)\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }), _date.getDate());\n}\n\n;\nexport default TimeSelect;","map":{"version":3,"names":["React","Component","Fragment","useEffect","useState","PropTypes","Styled","calendar","isDate","isSameDay","isSameMonth","getDateISO","getNextMonth","getPreviousMonth","WEEK_DAYS","CALENDAR_MONTHS","TimeSelect","date","onDateChanged","current","month","year","dateState","setDateState","Date","today","setToday","addDateToState","isDateObject","_date","getMonth","getFullYear","getCalendarDates","calendarMonth","calendarYear","renderDayLabel","day","index","daylabel","toUpperCase","renderCalendarDate","join","isToday","isCurrent","inMonth","onClick","gotoDate","props","title","toDateString","DateComponent","HighlightedCalendarDate","TodayCalendarDate","CalendarDate","renderMonthAndYear","monthname","Object","keys","Math","max","min","handlePrevious","clearPressureTimer","handleNext","map","Calendar","propTypes","instanceOf","func","pressureTimer","pressureTimeout","getDate"],"sources":["/Users/s.gollapalli/Desktop/project/b20-master-2/src/components/TimeSelect.jsx"],"sourcesContent":["import React, { Component, Fragment, useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport * as Styled from \"./styles\";\nimport calendar, {\n  isDate,\n  isSameDay,\n  isSameMonth,\n  getDateISO,\n  getNextMonth,\n  getPreviousMonth,\n  WEEK_DAYS,\n  CALENDAR_MONTHS,\n} from \"../../helpers/calendar.jsx\";\n\nfunction TimeSelect({ date, onDateChanged }) {\n\n  const [dateState, setDateState] = useState({ current: 0, month: 0, year: 0 });\n  const [today, setToday] = useState(new Date());\n  useEffect(() => {\n    addDateToState(date);\n  }, []);\n\n  const addDateToState = (date) => {\n    const isDateObject = isDate(date);\n    const _date = isDateObject ? date : new Date();\n    setDateState({\n      current: isDateObject ? date : null,\n      month: +_date.getMonth() + 1,\n      year: _date.getFullYear(),\n    });\n  };\n\n  const getCalendarDates = () => {\n    const { current, month, year } = dateState;\n    const calendarMonth = month || +current.getMonth() + 1;\n    const calendarYear = year || current.getFullYear();\n    return calendar(calendarMonth, calendarYear);\n  };\n\n  // Render the label for day of the week\n  // This method is used as a map callback as seen in render()\n  const renderDayLabel = (day, index) => {\n    // Resolve the day of the week label from the WEEK_DAYS object map\n    const daylabel = WEEK_DAYS[day].toUpperCase();\n    return (\n      <Styled.CalendarDay key={daylabel} index={index}>\n        {daylabel}\n      </Styled.CalendarDay>\n    );\n  };\n  // Render a calendar date as returned from the calendar builder function\n  // This method is used as a map callback as seen in render()\n  const renderCalendarDate = (date, index) => {\n    const { current, month, year } = dateState;\n    const _date = new Date(date.join(\"-\"));\n    // Check if calendar date is same day as today\n    const isToday = isSameDay(_date, today);\n    // Check if calendar date is same day as currently selected date\n    const isCurrent = current && isSameDay(_date, current);\n    // Check if calendar date is in the same month as the state month and year\n    const inMonth =\n      month && year && isSameMonth(_date, new Date([year, month, 1].join(\"-\")));\n    // The click handler\n    const onClick = this.gotoDate(_date);\n    const props = { index, inMonth, onClick, title: _date.toDateString() };\n    // Conditionally render a styled date component\n    const DateComponent = isCurrent\n      ? Styled.HighlightedCalendarDate\n      : isToday\n      ? Styled.TodayCalendarDate\n      : Styled.CalendarDate;\n\n    const renderMonthAndYear = () => {\n        const { month, year } = dateState;\n        // Resolve the month name from the CALENDAR_MONTHS object map\n        const monthname =\n          Object.keys(CALENDAR_MONTHS)[Math.max(0, Math.min(month - 1, 11))];\n        return (\n          <Styled.CalendarHeader>\n            <Styled.ArrowLeft\n              onMouseDown={handlePrevious}\n              onMouseUp={clearPressureTimer}\n              title=\"Previous Month\"\n            />\n            <Styled.CalendarMonth>\n              {monthname} {year}\n            </Styled.CalendarMonth>\n            <Styled.ArrowRight\n              onMouseDown={handleNext}\n              onMouseUp={clearPressureTimer}\n              title=\"Next Month\"\n            />\n          </Styled.CalendarHeader>\n        );\n      };\n      \n\n  return (\n    <Styled.CalendarContainer>\n      {renderMonthAndYear()}\n      <Styled.CalendarGrid>\n        <Fragment>{Object.keys(WEEK_DAYS).map(renderDayLabel)}</Fragment>\n        <Fragment>{getCalendarDates().map(renderCalendarDate)}</Fragment>\n      </Styled.CalendarGrid>\n    </Styled.CalendarContainer>\n  );\n}\nCalendar.propTypes = {\n  date: PropTypes.instanceOf(Date),\n  onDateChanged: PropTypes.func,\n};\n\nlet pressureTimer, pressureTimeout; \n\n\n    return (\n      <DateComponent key={getDateISO(_date)} {...props}>\n        {_date.getDate()}\n      </DateComponent>\n    );\n  };\n\n  export default TimeSelect;"],"mappings":"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"},"metadata":{},"sourceType":"module"}