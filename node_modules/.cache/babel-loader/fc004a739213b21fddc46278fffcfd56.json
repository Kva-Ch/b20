{"ast":null,"code":"import _slicedToArray from \"/Users/s.gollapalli/Desktop/project/b20-master-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/s.gollapalli/Desktop/project/b20-master-2/src/components/TimeSelect.jsx\",\n    _this = this;\n\nimport React, { Component, Fragment, useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport * as Styled from \"./styles\";\nimport calendar, { isDate, isSameDay, isSameMonth, getDateISO, getNextMonth, getPreviousMonth, WEEK_DAYS, CALENDAR_MONTHS } from \"../../helpers/calendar.jsx\";\n\nfunction TimeSelect(_ref) {\n  var date = _ref.date,\n      onDateChanged = _ref.onDateChanged;\n\n  var _useState = useState({\n    current: 0,\n    month: 0,\n    year: 0\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      dateState = _useState2[0],\n      setDateState = _useState2[1];\n\n  var _useState3 = useState(new Date()),\n      _useState4 = _slicedToArray(_useState3, 2),\n      today = _useState4[0],\n      setToday = _useState4[1];\n\n  useEffect(function () {\n    addDateToState(date);\n  }, []);\n\n  var addDateToState = function addDateToState(date) {\n    var isDateObject = isDate(date);\n\n    var _date = isDateObject ? date : new Date();\n\n    setDateState({\n      current: isDateObject ? date : null,\n      month: +_date.getMonth() + 1,\n      year: _date.getFullYear()\n    });\n  };\n\n  var getCalendarDates = function getCalendarDates() {\n    var current = dateState.current,\n        month = dateState.month,\n        year = dateState.year;\n    var calendarMonth = month || +current.getMonth() + 1;\n    var calendarYear = year || current.getFullYear();\n    return calendar(calendarMonth, calendarYear);\n  };\n\n  return /*#__PURE__*/React.createElement(Styled.CalendarContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, renderMonthAndYear(), /*#__PURE__*/React.createElement(Styled.CalendarGrid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, Object.keys(WEEK_DAYS).map(renderDayLabel)), /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, getCalendarDates().map(renderCalendarDate))));\n}\n\nCalendar.propTypes = {\n  date: PropTypes.instanceOf(Date),\n  onDateChanged: PropTypes.func\n};\nvar pressureTimer, pressureTimeout;\n\nvar renderMonthAndYear = function renderMonthAndYear() {\n  var _dateState = dateState,\n      month = _dateState.month,\n      year = _dateState.year; // Resolve the month name from the CALENDAR_MONTHS object map\n\n  var monthname = Object.keys(CALENDAR_MONTHS)[Math.max(0, Math.min(month - 1, 11))];\n  return /*#__PURE__*/React.createElement(Styled.CalendarHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Styled.ArrowLeft, {\n    onMouseDown: handlePrevious,\n    onMouseUp: clearPressureTimer,\n    title: \"Previous Month\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Styled.CalendarMonth, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, monthname, \" \", year), /*#__PURE__*/React.createElement(Styled.ArrowRight, {\n    onMouseDown: handleNext,\n    onMouseUp: clearPressureTimer,\n    title: \"Next Month\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }));\n}; // Render the label for day of the week\n// This method is used as a map callback as seen in render()\n\n\nvar renderDayLabel = function renderDayLabel(day, index) {\n  // Resolve the day of the week label from the WEEK_DAYS object map\n  var daylabel = WEEK_DAYS[day].toUpperCase();\n  return /*#__PURE__*/React.createElement(Styled.CalendarDay, {\n    key: daylabel,\n    index: index,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, daylabel);\n}; // Render a calendar date as returned from the calendar builder function\n// This method is used as a map callback as seen in render()\n\n\nvar renderCalendarDate = function renderCalendarDate(date, index) {\n  var _dateState2 = dateState,\n      current = _dateState2.current,\n      month = _dateState2.month,\n      year = _dateState2.year;\n\n  var _date = new Date(date.join(\"-\")); // Check if calendar date is same day as today\n\n\n  var isToday = isSameDay(_date, today); // Check if calendar date is same day as currently selected date\n\n  var isCurrent = current && isSameDay(_date, current); // Check if calendar date is in the same month as the state month and year\n\n  var inMonth = month && year && isSameMonth(_date, new Date([year, month, 1].join(\"-\"))); // The click handler\n\n  var onClick = _this.gotoDate(_date);\n\n  var props = {\n    index: index,\n    inMonth: inMonth,\n    onClick: onClick,\n    title: _date.toDateString()\n  }; // Conditionally render a styled date component\n\n  var DateComponent = isCurrent ? Styled.HighlightedCalendarDate : isToday ? Styled.TodayCalendarDate : Styled.CalendarDate;\n  return /*#__PURE__*/React.createElement(DateComponent, Object.assign({\n    key: getDateISO(_date)\n  }, props, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }), _date.getDate());\n};\n\nexport default TimeSelect;","map":{"version":3,"names":["React","Component","Fragment","useEffect","useState","PropTypes","Styled","calendar","isDate","isSameDay","isSameMonth","getDateISO","getNextMonth","getPreviousMonth","WEEK_DAYS","CALENDAR_MONTHS","TimeSelect","date","onDateChanged","current","month","year","dateState","setDateState","Date","today","setToday","addDateToState","isDateObject","_date","getMonth","getFullYear","getCalendarDates","calendarMonth","calendarYear","renderMonthAndYear","Object","keys","map","renderDayLabel","renderCalendarDate","Calendar","propTypes","instanceOf","func","pressureTimer","pressureTimeout","monthname","Math","max","min","handlePrevious","clearPressureTimer","handleNext","day","index","daylabel","toUpperCase","join","isToday","isCurrent","inMonth","onClick","gotoDate","props","title","toDateString","DateComponent","HighlightedCalendarDate","TodayCalendarDate","CalendarDate","getDate"],"sources":["/Users/s.gollapalli/Desktop/project/b20-master-2/src/components/TimeSelect.jsx"],"sourcesContent":["import React, { Component, Fragment, useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport * as Styled from \"./styles\";\nimport calendar, {\n  isDate,\n  isSameDay,\n  isSameMonth,\n  getDateISO,\n  getNextMonth,\n  getPreviousMonth,\n  WEEK_DAYS,\n  CALENDAR_MONTHS,\n} from \"../../helpers/calendar.jsx\";\n\nfunction TimeSelect({ date, onDateChanged }) {\n  const [dateState, setDateState] = useState({ current: 0, month: 0, year: 0 });\n  const [today, setToday] = useState(new Date());\n  useEffect(() => {\n    addDateToState(date);\n  }, []);\n  const addDateToState = (date) => {\n    const isDateObject = isDate(date);\n    const _date = isDateObject ? date : new Date();\n    setDateState({\n      current: isDateObject ? date : null,\n      month: +_date.getMonth() + 1,\n      year: _date.getFullYear(),\n    });\n  };\n  const getCalendarDates = () => {\n    const { current, month, year } = dateState;\n    const calendarMonth = month || +current.getMonth() + 1;\n    const calendarYear = year || current.getFullYear();\n    return calendar(calendarMonth, calendarYear);\n  };\n  return (\n    <Styled.CalendarContainer>\n      {renderMonthAndYear()}\n      <Styled.CalendarGrid>\n        <Fragment>{Object.keys(WEEK_DAYS).map(renderDayLabel)}</Fragment>\n        <Fragment>{getCalendarDates().map(renderCalendarDate)}</Fragment>\n      </Styled.CalendarGrid>\n    </Styled.CalendarContainer>\n  );\n}\nCalendar.propTypes = {\n  date: PropTypes.instanceOf(Date),\n  onDateChanged: PropTypes.func,\n};\n\nlet pressureTimer, pressureTimeout; \n\nconst renderMonthAndYear = () => {\n    const { month, year } = dateState;\n    // Resolve the month name from the CALENDAR_MONTHS object map\n    const monthname =\n      Object.keys(CALENDAR_MONTHS)[Math.max(0, Math.min(month - 1, 11))];\n    return (\n      <Styled.CalendarHeader>\n        <Styled.ArrowLeft\n          onMouseDown={handlePrevious}\n          onMouseUp={clearPressureTimer}\n          title=\"Previous Month\"\n        />\n        <Styled.CalendarMonth>\n          {monthname} {year}\n        </Styled.CalendarMonth>\n        <Styled.ArrowRight\n          onMouseDown={handleNext}\n          onMouseUp={clearPressureTimer}\n          title=\"Next Month\"\n        />\n      </Styled.CalendarHeader>\n    );\n  };\n  // Render the label for day of the week\n  // This method is used as a map callback as seen in render()\n  const renderDayLabel = (day, index) => {\n    // Resolve the day of the week label from the WEEK_DAYS object map\n    const daylabel = WEEK_DAYS[day].toUpperCase();\n    return (\n      <Styled.CalendarDay key={daylabel} index={index}>\n        {daylabel}\n      </Styled.CalendarDay>\n    );\n  };\n  // Render a calendar date as returned from the calendar builder function\n  // This method is used as a map callback as seen in render()\n  const renderCalendarDate = (date, index) => {\n    const { current, month, year } = dateState;\n    const _date = new Date(date.join(\"-\"));\n    // Check if calendar date is same day as today\n    const isToday = isSameDay(_date, today);\n    // Check if calendar date is same day as currently selected date\n    const isCurrent = current && isSameDay(_date, current);\n    // Check if calendar date is in the same month as the state month and year\n    const inMonth =\n      month && year && isSameMonth(_date, new Date([year, month, 1].join(\"-\")));\n    // The click handler\n    const onClick = this.gotoDate(_date);\n    const props = { index, inMonth, onClick, title: _date.toDateString() };\n    // Conditionally render a styled date component\n    const DateComponent = isCurrent\n      ? Styled.HighlightedCalendarDate\n      : isToday\n      ? Styled.TodayCalendarDate\n      : Styled.CalendarDate;\n    return (\n      <DateComponent key={getDateISO(_date)} {...props}>\n        {_date.getDate()}\n      </DateComponent>\n    );\n  };\n\n  export default TimeSelect;"],"mappings":"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"},"metadata":{},"sourceType":"module"}