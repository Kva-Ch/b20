{"ast":null,"code":"import { useSelectableItem as $8kq0t$useSelectableItem, useSelectableCollection as $8kq0t$useSelectableCollection } from \"@react-aria/selection\";\nimport { getFocusableTreeWalker as $8kq0t$getFocusableTreeWalker } from \"@react-aria/focus\";\nimport { useLayoutEffect as $8kq0t$useLayoutEffect, useLabels as $8kq0t$useLabels, mergeProps as $8kq0t$mergeProps, useId as $8kq0t$useId } from \"@react-aria/utils\";\nimport { useState as $8kq0t$useState, useMemo as $8kq0t$useMemo } from \"react\";\nimport { useLocale as $8kq0t$useLocale } from \"@react-aria/i18n\";\nconst $99b62ae3ff97ec45$export$c5f62239608282b6 = new WeakMap();\n\nfunction $99b62ae3ff97ec45$export$567fc7097e064344(state, key, role) {\n  if (typeof key === 'string') key = key.replace(/\\s+/g, '');\n  let baseId = $99b62ae3ff97ec45$export$c5f62239608282b6.get(state);\n  return `${baseId}-${role}-${key}`;\n}\n\nfunction $0175d55c2a017ebc$export$fdf4756d5b8ef90a(props, state, ref) {\n  let {\n    key: key,\n    isDisabled: propsDisabled\n  } = props;\n  let {\n    selectionManager: manager,\n    selectedKey: selectedKey\n  } = state;\n  let isSelected = key === selectedKey;\n  let isDisabled = propsDisabled || state.isDisabled || state.disabledKeys.has(key);\n  let {\n    itemProps: itemProps\n  } = $8kq0t$useSelectableItem({\n    selectionManager: manager,\n    key: key,\n    ref: ref,\n    isDisabled: isDisabled\n  });\n  let tabId = $99b62ae3ff97ec45$export$567fc7097e064344(state, key, 'tab');\n  let tabPanelId = $99b62ae3ff97ec45$export$567fc7097e064344(state, key, 'tabpanel');\n  let {\n    tabIndex: tabIndex\n  } = itemProps;\n  return {\n    tabProps: { ...itemProps,\n      id: tabId,\n      'aria-selected': isSelected,\n      'aria-disabled': isDisabled || undefined,\n      'aria-controls': isSelected ? tabPanelId : undefined,\n      tabIndex: isDisabled ? undefined : tabIndex,\n      role: 'tab'\n    },\n    isSelected: isSelected,\n    isDisabled: isDisabled\n  };\n}\n\nfunction $34bce698202e07cb$export$fae0121b5afe572d(props, state, ref) {\n  let [tabIndex, setTabIndex] = $8kq0t$useState(0); // The tabpanel should have tabIndex=0 when there are no tabbable elements within it.\n  // Otherwise, tabbing from the focused tab should go directly to the first tabbable element\n  // within the tabpanel.\n\n  $8kq0t$useLayoutEffect(() => {\n    if (ref === null || ref === void 0 ? void 0 : ref.current) {\n      let update = () => {\n        // Detect if there are any tabbable elements and update the tabIndex accordingly.\n        let walker = $8kq0t$getFocusableTreeWalker(ref.current, {\n          tabbable: true\n        });\n        setTabIndex(walker.nextNode() ? undefined : 0);\n      };\n\n      update(); // Update when new elements are inserted, or the tabIndex/disabled attribute updates.\n\n      let observer = new MutationObserver(update);\n      observer.observe(ref.current, {\n        subtree: true,\n        childList: true,\n        attributes: true,\n        attributeFilter: ['tabIndex', 'disabled']\n      });\n      return () => {\n        observer.disconnect();\n      };\n    }\n  }, [ref]);\n  const id = $99b62ae3ff97ec45$export$567fc7097e064344(state, state === null || state === void 0 ? void 0 : state.selectedKey, 'tabpanel');\n  const tabPanelProps = $8kq0t$useLabels({ ...props,\n    id: id,\n    'aria-labelledby': $99b62ae3ff97ec45$export$567fc7097e064344(state, state === null || state === void 0 ? void 0 : state.selectedKey, 'tab')\n  });\n  return {\n    tabPanelProps: $8kq0t$mergeProps(tabPanelProps, {\n      tabIndex: tabIndex,\n      role: 'tabpanel',\n      'aria-describedby': props['aria-describedby'],\n      'aria-details': props['aria-details']\n    })\n  };\n}\n\nclass $bfc6f2d60b8a4c40$export$15010ca3c1abe90b {\n  getKeyLeftOf(key) {\n    if (this.flipDirection) return this.getNextKey(key);else {\n      if (this.orientation === 'horizontal') return this.getPreviousKey(key);\n      return null;\n    }\n  }\n\n  getKeyRightOf(key) {\n    if (this.flipDirection) return this.getPreviousKey(key);else {\n      if (this.orientation === 'horizontal') return this.getNextKey(key);\n      return null;\n    }\n  }\n\n  getKeyAbove(key) {\n    if (this.orientation === 'vertical') return this.getPreviousKey(key);\n    return null;\n  }\n\n  getKeyBelow(key) {\n    if (this.orientation === 'vertical') return this.getNextKey(key);\n    return null;\n  }\n\n  getFirstKey() {\n    let key = this.collection.getFirstKey();\n    if (this.disabledKeys.has(key)) key = this.getNextKey(key);\n    return key;\n  }\n\n  getLastKey() {\n    let key = this.collection.getLastKey();\n    if (this.disabledKeys.has(key)) key = this.getPreviousKey(key);\n    return key;\n  }\n\n  getNextKey(key) {\n    do {\n      key = this.collection.getKeyAfter(key);\n      if (key == null) key = this.collection.getFirstKey();\n    } while (this.disabledKeys.has(key));\n\n    return key;\n  }\n\n  getPreviousKey(key) {\n    do {\n      key = this.collection.getKeyBefore(key);\n      if (key == null) key = this.collection.getLastKey();\n    } while (this.disabledKeys.has(key));\n\n    return key;\n  }\n\n  constructor(collection, direction, orientation) {\n    let disabledKeys = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : new Set();\n    this.collection = collection;\n    this.flipDirection = direction === 'rtl' && orientation === 'horizontal';\n    this.orientation = orientation;\n    this.disabledKeys = disabledKeys;\n  }\n\n}\n\nfunction $58d314389b21fa3f$export$773e389e644c5874(props, state, ref) {\n  let {\n    orientation = 'horizontal',\n    keyboardActivation = 'automatic'\n  } = props;\n  let {\n    collection: collection,\n    selectionManager: manager,\n    disabledKeys: disabledKeys\n  } = state;\n  let {\n    direction: direction\n  } = $8kq0t$useLocale();\n  let delegate = $8kq0t$useMemo(() => new $bfc6f2d60b8a4c40$export$15010ca3c1abe90b(collection, direction, orientation, disabledKeys), [collection, disabledKeys, orientation, direction]);\n  let {\n    collectionProps: collectionProps\n  } = $8kq0t$useSelectableCollection({\n    ref: ref,\n    selectionManager: manager,\n    keyboardDelegate: delegate,\n    selectOnFocus: keyboardActivation === 'automatic',\n    disallowEmptySelection: true,\n    scrollRef: ref\n  }); // Compute base id for all tabs\n\n  let tabsId = $8kq0t$useId();\n  $99b62ae3ff97ec45$export$c5f62239608282b6.set(state, tabsId);\n  let tabListLabelProps = $8kq0t$useLabels({ ...props,\n    id: tabsId\n  });\n  return {\n    tabListProps: { ...$8kq0t$mergeProps(collectionProps, tabListLabelProps),\n      role: 'tablist',\n      'aria-orientation': orientation,\n      tabIndex: undefined\n    }\n  };\n}\n\nexport { $0175d55c2a017ebc$export$fdf4756d5b8ef90a as useTab, $34bce698202e07cb$export$fae0121b5afe572d as useTabPanel, $58d314389b21fa3f$export$773e389e644c5874 as useTabList };","map":{"version":3,"mappings":"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","names":["$99b62ae3ff97ec45$export$c5f62239608282b6","WeakMap","$99b62ae3ff97ec45$export$567fc7097e064344","state","key","role","replace","baseId","get","$0175d55c2a017ebc$export$fdf4756d5b8ef90a","props","ref","isDisabled","propsDisabled","selectionManager","manager","selectedKey","isSelected","disabledKeys","has","itemProps","$8kq0t$useSelectableItem","tabId","tabPanelId","tabIndex","tabProps","id","undefined","$34bce698202e07cb$export$fae0121b5afe572d","setTabIndex","$8kq0t$useState","$8kq0t$useLayoutEffect","current","update","walker","$8kq0t$getFocusableTreeWalker","tabbable","nextNode","observer","MutationObserver","observe","subtree","childList","attributes","attributeFilter","disconnect","tabPanelProps","$8kq0t$useLabels","$8kq0t$mergeProps","$bfc6f2d60b8a4c40$export$15010ca3c1abe90b","getKeyLeftOf","flipDirection","getNextKey","orientation","getPreviousKey","getKeyRightOf","getKeyAbove","getKeyBelow","getFirstKey","collection","getLastKey","getKeyAfter","getKeyBefore","direction","Set","$58d314389b21fa3f$export$773e389e644c5874","keyboardActivation","$8kq0t$useLocale","delegate","$8kq0t$useMemo","collectionProps","$8kq0t$useSelectableCollection","keyboardDelegate","selectOnFocus","disallowEmptySelection","scrollRef","tabsId","$8kq0t$useId","set","tabListLabelProps","tabListProps"],"sources":["/Users/k.chaganti/Desktop/b20/b20/node_modules/@react-aria/tabs/dist/packages/@react-aria/tabs/src/utils.ts","/Users/k.chaganti/Desktop/b20/b20/node_modules/@react-aria/tabs/dist/packages/@react-aria/tabs/src/useTab.ts","/Users/k.chaganti/Desktop/b20/b20/node_modules/@react-aria/tabs/dist/packages/@react-aria/tabs/src/useTabPanel.ts","/Users/k.chaganti/Desktop/b20/b20/node_modules/@react-aria/tabs/dist/packages/@react-aria/tabs/src/TabsKeyboardDelegate.ts","/Users/k.chaganti/Desktop/b20/b20/node_modules/@react-aria/tabs/dist/packages/@react-aria/tabs/src/useTabList.ts"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Key} from 'react';\nimport {TabListState} from '@react-stately/tabs';\n\nexport const tabsIds = new WeakMap<TabListState<unknown>, string>();\n\nexport function generateId<T>(state: TabListState<T>, key: Key, role: string) {\n  if (typeof key === 'string') {\n    key = key.replace(/\\s+/g, '');\n  }\n\n  let baseId = tabsIds.get(state);\n  return `${baseId}-${role}-${key}`;\n}\n\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaTabProps} from '@react-types/tabs';\nimport {DOMAttributes, FocusableElement} from '@react-types/shared';\nimport {generateId} from './utils';\nimport {RefObject} from 'react';\nimport {TabListState} from '@react-stately/tabs';\nimport {useSelectableItem} from '@react-aria/selection';\n\nexport interface TabAria {\n  /** Props for the tab element. */\n  tabProps: DOMAttributes,\n  /** Whether the tab is currently selected. */\n  isSelected: boolean,\n  /** Whether the tab is disabled. */\n  isDisabled: boolean\n}\n\n/**\n * Provides the behavior and accessibility implementation for a tab.\n * When selected, the associated tab panel is shown.\n */\nexport function useTab<T>(\n  props: AriaTabProps,\n  state: TabListState<T>,\n  ref: RefObject<FocusableElement>\n): TabAria {\n  let {key, isDisabled: propsDisabled} = props;\n  let {selectionManager: manager, selectedKey} = state;\n\n  let isSelected = key === selectedKey;\n\n  let isDisabled = propsDisabled || state.isDisabled || state.disabledKeys.has(key);\n  let {itemProps} = useSelectableItem({\n    selectionManager: manager,\n    key,\n    ref,\n    isDisabled\n  });\n\n  let tabId = generateId(state, key, 'tab');\n  let tabPanelId = generateId(state, key, 'tabpanel');\n  let {tabIndex} = itemProps;\n\n  return {\n    tabProps: {\n      ...itemProps,\n      id: tabId,\n      'aria-selected': isSelected,\n      'aria-disabled': isDisabled || undefined,\n      'aria-controls': isSelected ? tabPanelId : undefined,\n      tabIndex: isDisabled ? undefined : tabIndex,\n      role: 'tab'\n    },\n    isSelected,\n    isDisabled\n  };\n}\n\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaTabPanelProps} from '@react-types/tabs';\nimport {DOMAttributes} from '@react-types/shared';\nimport {generateId} from './utils';\nimport {getFocusableTreeWalker} from '@react-aria/focus';\nimport {mergeProps, useLabels, useLayoutEffect} from '@react-aria/utils';\nimport {RefObject, useState} from 'react';\nimport {TabListState} from '@react-stately/tabs';\n\nexport interface TabPanelAria {\n  /** Props for the tab panel element. */\n  tabPanelProps: DOMAttributes\n}\n\n\n/**\n * Provides the behavior and accessibility implementation for a tab panel. A tab panel is a container for\n * the contents of a tab, and is shown when the tab is selected.\n */\nexport function useTabPanel<T>(props: AriaTabPanelProps, state: TabListState<T>, ref: RefObject<Element>): TabPanelAria {\n  let [tabIndex, setTabIndex] = useState(0);\n\n  // The tabpanel should have tabIndex=0 when there are no tabbable elements within it.\n  // Otherwise, tabbing from the focused tab should go directly to the first tabbable element\n  // within the tabpanel.\n  useLayoutEffect(() => {\n    if (ref?.current) {\n      let update = () => {\n        // Detect if there are any tabbable elements and update the tabIndex accordingly.\n        let walker = getFocusableTreeWalker(ref.current, {tabbable: true});\n        setTabIndex(walker.nextNode() ? undefined : 0);\n      };\n\n      update();\n\n      // Update when new elements are inserted, or the tabIndex/disabled attribute updates.\n      let observer = new MutationObserver(update);\n      observer.observe(ref.current, {\n        subtree: true,\n        childList: true,\n        attributes: true,\n        attributeFilter: ['tabIndex', 'disabled']\n      });\n\n      return () => {\n        observer.disconnect();\n      };\n    }\n  }, [ref]);\n\n  const id = generateId(state, state?.selectedKey, 'tabpanel');\n  const tabPanelProps = useLabels({...props, id, 'aria-labelledby': generateId(state, state?.selectedKey, 'tab')});\n\n  return {\n    tabPanelProps: mergeProps(tabPanelProps, {\n      tabIndex,\n      role: 'tabpanel',\n      'aria-describedby': props['aria-describedby'],\n      'aria-details': props['aria-details']\n    })\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Collection, Direction, KeyboardDelegate, Orientation} from '@react-types/shared';\nimport {Key} from 'react';\n\nexport class TabsKeyboardDelegate<T> implements KeyboardDelegate {\n  private collection: Collection<T>;\n  private flipDirection: boolean;\n  private disabledKeys: Set<Key>;\n  private orientation: Orientation;\n\n  constructor(collection: Collection<T>, direction: Direction, orientation: Orientation, disabledKeys: Set<Key> = new Set()) {\n    this.collection = collection;\n    this.flipDirection = direction === 'rtl' && orientation === 'horizontal';\n    this.orientation = orientation;\n    this.disabledKeys = disabledKeys;\n  }\n\n  getKeyLeftOf(key: Key) {\n    if (this.flipDirection) {\n      return this.getNextKey(key);\n    } else {\n      if (this.orientation === 'horizontal') {\n        return this.getPreviousKey(key);\n      }\n      return null;\n    }\n  }\n\n  getKeyRightOf(key: Key) {\n    if (this.flipDirection) {\n      return this.getPreviousKey(key);\n    } else {\n      if (this.orientation === 'horizontal') {\n        return this.getNextKey(key);\n      }\n      return null;\n    }\n  }\n\n  getKeyAbove(key: Key) {\n    if (this.orientation === 'vertical') {\n      return this.getPreviousKey(key);\n    }\n    return null;\n  }\n\n  getKeyBelow(key: Key) {\n    if (this.orientation === 'vertical') {\n      return this.getNextKey(key);\n    }\n    return null;\n  }\n\n  getFirstKey() {\n    let key = this.collection.getFirstKey();\n    if (this.disabledKeys.has(key)) {\n      key = this.getNextKey(key);\n    }\n    return key;\n  }\n\n  getLastKey() {\n    let key = this.collection.getLastKey();\n    if (this.disabledKeys.has(key)) {\n      key = this.getPreviousKey(key);\n    }\n    return key;\n  }\n\n  getNextKey(key) {\n    do {\n      key = this.collection.getKeyAfter(key);\n      if (key == null) {\n        key = this.collection.getFirstKey();\n      }\n    } while (this.disabledKeys.has(key));\n    return key;\n  }\n\n  getPreviousKey(key) {\n    do {\n      key = this.collection.getKeyBefore(key);\n      if (key == null) {\n        key = this.collection.getLastKey();\n      }\n    } while (this.disabledKeys.has(key));\n    return key;\n  }\n}\n","/*\n* Copyright 2020 Adobe. All rights reserved.\n* This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License. You may obtain a copy\n* of the License at http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under\n* the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n* OF ANY KIND, either express or implied. See the License for the specific language\n* governing permissions and limitations under the License.\n*/\n\nimport {AriaTabListProps} from '@react-types/tabs';\nimport {DOMAttributes} from '@react-types/shared';\nimport {mergeProps, useId, useLabels} from '@react-aria/utils';\nimport {RefObject, useMemo} from 'react';\nimport {TabListState} from '@react-stately/tabs';\nimport {tabsIds} from './utils';\nimport {TabsKeyboardDelegate} from './TabsKeyboardDelegate';\nimport {useLocale} from '@react-aria/i18n';\nimport {useSelectableCollection} from '@react-aria/selection';\n\nexport interface TabListAria {\n  /** Props for the tablist container. */\n  tabListProps: DOMAttributes\n}\n\n\n/**\n * Provides the behavior and accessibility implementation for a tab list.\n * Tabs organize content into multiple sections and allow users to navigate between them.\n */\nexport function useTabList<T>(props: AriaTabListProps<T>, state: TabListState<T>, ref: RefObject<HTMLElement>): TabListAria {\n  let {\n    orientation = 'horizontal',\n    keyboardActivation = 'automatic'\n  } = props;\n  let {\n    collection,\n    selectionManager: manager,\n    disabledKeys\n  } = state;\n  let {direction} = useLocale();\n  let delegate = useMemo(() => new TabsKeyboardDelegate(\n    collection,\n    direction,\n    orientation,\n    disabledKeys), [collection, disabledKeys, orientation, direction]);\n\n  let {collectionProps} = useSelectableCollection({\n    ref,\n    selectionManager: manager,\n    keyboardDelegate: delegate,\n    selectOnFocus: keyboardActivation === 'automatic',\n    disallowEmptySelection: true,\n    scrollRef: ref\n  });\n\n  // Compute base id for all tabs\n  let tabsId = useId();\n  tabsIds.set(state, tabsId);\n\n  let tabListLabelProps = useLabels({...props, id: tabsId});\n\n  return {\n    tabListProps: {\n      ...mergeProps(collectionProps, tabListLabelProps),\n      role: 'tablist',\n      'aria-orientation': orientation,\n      tabIndex: undefined\n    }\n  };\n}\n"]},"metadata":{},"sourceType":"module"}